const nock = require('nock');

module.exports = (() => {
  const fnLists = {
    'no match': []
  };
  Object.entries(fnLists).forEach(([event, fns]) => {
    nock.emitter.on(event, (...args) => fns.forEach(fn => fn(...args)));
  });
  return {
    subscribe: (event, f) => {
      fnLists[event].push(f);
    },
    unsubscribeAll: event => {
      fnLists[event].length = 0;
    }
  };
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9tb2R1bGVzL3JlcXVlc3QtcmVjb3JkZXIvbm9jay1saXN0ZW5lci5qcyJdLCJuYW1lcyI6WyJub2NrIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJmbkxpc3RzIiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJldmVudCIsImZucyIsImVtaXR0ZXIiLCJvbiIsImFyZ3MiLCJmbiIsInN1YnNjcmliZSIsImYiLCJwdXNoIiwidW5zdWJzY3JpYmVBbGwiLCJsZW5ndGgiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDLE1BQU07QUFDdEIsUUFBTUMsT0FBTyxHQUFHO0FBQ2QsZ0JBQVk7QUFERSxHQUFoQjtBQUdBQyxFQUFBQSxNQUFNLENBQUNDLE9BQVAsQ0FBZUYsT0FBZixFQUF3QkcsT0FBeEIsQ0FBZ0MsQ0FBQyxDQUFDQyxLQUFELEVBQVFDLEdBQVIsQ0FBRCxLQUFrQjtBQUNoRFQsSUFBQUEsSUFBSSxDQUFDVSxPQUFMLENBQWFDLEVBQWIsQ0FBZ0JILEtBQWhCLEVBQXVCLENBQUMsR0FBR0ksSUFBSixLQUFhSCxHQUFHLENBQUNGLE9BQUosQ0FBYU0sRUFBRCxJQUFRQSxFQUFFLENBQUMsR0FBR0QsSUFBSixDQUF0QixDQUFwQztBQUNELEdBRkQ7QUFHQSxTQUFPO0FBQ0xFLElBQUFBLFNBQVMsRUFBRSxDQUFDTixLQUFELEVBQVFPLENBQVIsS0FBYztBQUN2QlgsTUFBQUEsT0FBTyxDQUFDSSxLQUFELENBQVAsQ0FBZVEsSUFBZixDQUFvQkQsQ0FBcEI7QUFDRCxLQUhJO0FBSUxFLElBQUFBLGNBQWMsRUFBR1QsS0FBRCxJQUFXO0FBQ3pCSixNQUFBQSxPQUFPLENBQUNJLEtBQUQsQ0FBUCxDQUFlVSxNQUFmLEdBQXdCLENBQXhCO0FBQ0Q7QUFOSSxHQUFQO0FBUUQsQ0FmZ0IsR0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBub2NrID0gcmVxdWlyZSgnbm9jaycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgoKSA9PiB7XG4gIGNvbnN0IGZuTGlzdHMgPSB7XG4gICAgJ25vIG1hdGNoJzogW11cbiAgfTtcbiAgT2JqZWN0LmVudHJpZXMoZm5MaXN0cykuZm9yRWFjaCgoW2V2ZW50LCBmbnNdKSA9PiB7XG4gICAgbm9jay5lbWl0dGVyLm9uKGV2ZW50LCAoLi4uYXJncykgPT4gZm5zLmZvckVhY2goKGZuKSA9PiBmbiguLi5hcmdzKSkpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBzdWJzY3JpYmU6IChldmVudCwgZikgPT4ge1xuICAgICAgZm5MaXN0c1tldmVudF0ucHVzaChmKTtcbiAgICB9LFxuICAgIHVuc3Vic2NyaWJlQWxsOiAoZXZlbnQpID0+IHtcbiAgICAgIGZuTGlzdHNbZXZlbnRdLmxlbmd0aCA9IDA7XG4gICAgfVxuICB9O1xufSkoKTtcbiJdfQ==