const fs = require('fs');

const path = require('path');

module.exports = filepath => {
  try {
    fs.unlinkSync(filepath);
    let cpath = filepath;

    while (cpath !== path.sep) {
      cpath = path.normalize(path.join(cpath, '..'));
      fs.rmdirSync(cpath);
    }
  } catch (e) {
    if (e.code !== 'ENOTEMPTY') {
      throw e;
    }
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9sb2dpYy9jbGVhbmluZy1kZWxldGUuanMiXSwibmFtZXMiOlsiZnMiLCJyZXF1aXJlIiwicGF0aCIsIm1vZHVsZSIsImV4cG9ydHMiLCJmaWxlcGF0aCIsInVubGlua1N5bmMiLCJjcGF0aCIsInNlcCIsIm5vcm1hbGl6ZSIsImpvaW4iLCJybWRpclN5bmMiLCJlIiwiY29kZSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsSUFBRCxDQUFsQjs7QUFDQSxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUdBRSxNQUFNLENBQUNDLE9BQVAsR0FBa0JDLFFBQUQsSUFBYztBQUM3QixNQUFJO0FBQ0ZMLElBQUFBLEVBQUUsQ0FBQ00sVUFBSCxDQUFjRCxRQUFkO0FBQ0EsUUFBSUUsS0FBSyxHQUFHRixRQUFaOztBQUNBLFdBQU9FLEtBQUssS0FBS0wsSUFBSSxDQUFDTSxHQUF0QixFQUEyQjtBQUN6QkQsTUFBQUEsS0FBSyxHQUFHTCxJQUFJLENBQUNPLFNBQUwsQ0FBZVAsSUFBSSxDQUFDUSxJQUFMLENBQVVILEtBQVYsRUFBaUIsSUFBakIsQ0FBZixDQUFSO0FBQ0FQLE1BQUFBLEVBQUUsQ0FBQ1csU0FBSCxDQUFhSixLQUFiO0FBQ0Q7QUFDRixHQVBELENBT0UsT0FBT0ssQ0FBUCxFQUFVO0FBQ1YsUUFBSUEsQ0FBQyxDQUFDQyxJQUFGLEtBQVcsV0FBZixFQUE0QjtBQUMxQixZQUFNRCxDQUFOO0FBQ0Q7QUFDRjtBQUNGLENBYkQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gKGZpbGVwYXRoKSA9PiB7XG4gIHRyeSB7XG4gICAgZnMudW5saW5rU3luYyhmaWxlcGF0aCk7XG4gICAgbGV0IGNwYXRoID0gZmlsZXBhdGg7XG4gICAgd2hpbGUgKGNwYXRoICE9PSBwYXRoLnNlcCkge1xuICAgICAgY3BhdGggPSBwYXRoLm5vcm1hbGl6ZShwYXRoLmpvaW4oY3BhdGgsICcuLicpKTtcbiAgICAgIGZzLnJtZGlyU3luYyhjcGF0aCk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUuY29kZSAhPT0gJ0VOT1RFTVBUWScpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG59O1xuIl19