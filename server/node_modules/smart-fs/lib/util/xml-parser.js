const xmlJs = require('xml-js');

module.exports.parse = xml => ({
  data: xmlJs.xml2js(xml, {
    captureSpacesBetweenElements: true
  }),
  meta: {
    spaceSelfClosing: xml[xml.search(/.[/?]>/g)] === ' '
  }
});

module.exports.stringify = obj => `${xmlJs.js2xml(obj.data).replace(/(?=[/?]>)/g, obj.meta.spaceSelfClosing ? ' ' : '')}`;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsL3htbC1wYXJzZXIuanMiXSwibmFtZXMiOlsieG1sSnMiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsInBhcnNlIiwieG1sIiwiZGF0YSIsInhtbDJqcyIsImNhcHR1cmVTcGFjZXNCZXR3ZWVuRWxlbWVudHMiLCJtZXRhIiwic3BhY2VTZWxmQ2xvc2luZyIsInNlYXJjaCIsInN0cmluZ2lmeSIsIm9iaiIsImpzMnhtbCIsInJlcGxhY2UiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEtBQUssR0FBR0MsT0FBTyxDQUFDLFFBQUQsQ0FBckI7O0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxDQUFlQyxLQUFmLEdBQXdCQyxHQUFELEtBQVU7QUFDL0JDLEVBQUFBLElBQUksRUFBRU4sS0FBSyxDQUFDTyxNQUFOLENBQWFGLEdBQWIsRUFBa0I7QUFBRUcsSUFBQUEsNEJBQTRCLEVBQUU7QUFBaEMsR0FBbEIsQ0FEeUI7QUFFL0JDLEVBQUFBLElBQUksRUFBRTtBQUNKQyxJQUFBQSxnQkFBZ0IsRUFBRUwsR0FBRyxDQUFDQSxHQUFHLENBQUNNLE1BQUosQ0FBVyxTQUFYLENBQUQsQ0FBSCxLQUErQjtBQUQ3QztBQUZ5QixDQUFWLENBQXZCOztBQU1BVCxNQUFNLENBQUNDLE9BQVAsQ0FBZVMsU0FBZixHQUE0QkMsR0FBRCxJQUFVLEdBQ25DYixLQUFLLENBQUNjLE1BQU4sQ0FBYUQsR0FBRyxDQUFDUCxJQUFqQixFQUNHUyxPQURILENBQ1csWUFEWCxFQUN5QkYsR0FBRyxDQUFDSixJQUFKLENBQVNDLGdCQUFULEdBQTRCLEdBQTVCLEdBQWtDLEVBRDNELENBRUQsRUFIRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHhtbEpzID0gcmVxdWlyZSgneG1sLWpzJyk7XG5cbm1vZHVsZS5leHBvcnRzLnBhcnNlID0gKHhtbCkgPT4gKHtcbiAgZGF0YTogeG1sSnMueG1sMmpzKHhtbCwgeyBjYXB0dXJlU3BhY2VzQmV0d2VlbkVsZW1lbnRzOiB0cnVlIH0pLFxuICBtZXRhOiB7XG4gICAgc3BhY2VTZWxmQ2xvc2luZzogeG1sW3htbC5zZWFyY2goLy5bLz9dPi9nKV0gPT09ICcgJ1xuICB9XG59KTtcbm1vZHVsZS5leHBvcnRzLnN0cmluZ2lmeSA9IChvYmopID0+IGAke1xuICB4bWxKcy5qczJ4bWwob2JqLmRhdGEpXG4gICAgLnJlcGxhY2UoLyg/PVsvP10+KS9nLCBvYmoubWV0YS5zcGFjZVNlbGZDbG9zaW5nID8gJyAnIDogJycpXG59YDtcbiJdfQ==